




<!DOCTYPE html>
<html lang="zh-CN" style="position: fixed; width: 100%; overflow: hidden; ">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=1200">
    <title>奶牛自行车 - 题目 - FAIOJ</title>
    <link href="https://cdn.jsdelivr.net/gh/novaELLIAS/CDN_for_ND@2.3.8/img/faioj_favicon.ico" rel="shortcut icon">
    <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/tomorrow.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/math.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/style.css?20181212" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/morris.js/0.5.1/morris.css" rel="stylesheet">
    
      <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/google-fonts/fira-mono.css" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/google-fonts/lato.css" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/google-fonts/open-sans.css" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/google-fonts/exo-2.css" rel="stylesheet">
    
    <script data-cfasync="false" src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/jquery/3.3.1/jquery.min.js"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-174192270-1', 'auto');
      ga('send', 'pageview');

    </script>
    
</head>
<body style="position: relative; margin-top: 49px; height: calc(100% - 49px); overflow-y: overlay; ">
    <div class="ui fixed borderless menu" style="position: fixed; height: 49px; ">
        <div class="ui container">
            
            <a class="header item" href="/"><img src="https://cdn.jsdelivr.net/gh/novaELLIAS/CDN_for_ND@2.3.8/img/faioj_favicon.ico" style="width: auto; height: 35px; "></a>
            
            <a class="item" href="/"><i class="home icon"></i> 首页</a>
            <a class="item active" href="/problems"><i class="list icon"></i> 题库</a>
            <a class="item" href="/contests"><i class="calendar icon"></i> 比赛</a>
            <a class="item" href="/submissions"><i class="tasks icon"></i> 评测</a>
            <a class="item" href="/ranklist"><i class="signal icon"></i> 排名</a>
            <a class="item" href="/discussion/global"><i class="comments icon"></i> 讨论</a>
            <a class="item" href="/help"><i class="help circle icon"></i> 帮助</a>
            
            <div class="right menu">
              
                <div class="item">
                    <a class="ui button" style="margin-right: 0.5em; " href="/login?url=%2Fproblem%2F1070">
                        登录
                    </a>
                    <a class="ui primary button" href="/sign_up?url=%2Fproblem%2F1070">
                        注册
                    </a>
                </div>
                
            </div>
        </div>
    </div>
    <div style="margin-top: 28px; ">
    <div class="ui main container">

<style>
#languages-menu::-webkit-scrollbar, #testcase-menu::-webkit-scrollbar {
    width: 0px;
    background: transparent;
}

#languages-menu .item::after, #testcase-menu .item::after {
    display: none;
}
</style>

<script>
  window.pathLib = "https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/";
  window.pathSelfLib = "https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/";

  var originalConsoleWarn = console.warn;
  console.warn = function (message) {
    if (message.startsWith('Duplicate definition of module')) return;
    originalConsoleWarn.apply(console, arguments);
  };
</script>

<!-- Load monaco-editor -->
<script src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/monaco-editor/0.18.1/min/vs/loader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/monaco-editor.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/monaco-editor.css">




<div class="ui center aligned grid">
    <div class="row">
      <h1 class="ui header">
        
          #1070. 奶牛自行车
        
      </h1>
    </div>
    
      <div class="row" style="margin-top: -15px">
          <span class="ui label">内存限制：256 MiB</span>
          <span class="ui label">时间限制：1000 ms</span>
          
            <span class="ui label">标准输入输出</span>
          
      </div>
    
    
      <div class="row" style="margin-top: -23px">
          <span class="ui label">题目类型：传统</span>
          <span class="ui label">评测方式：文本比较</span>
      </div>
    
    
        <div class="row" style="margin-top: -23px">
            <span class="ui label">上传者：
            
              <a href="/user/10">刘升</a>
            
            </span>
            
        </div>
    
</div>
<div class="ui grid">
  <div class="row">
    <div class="column">
      <div class="ui buttons">
        
          
            <a class="small ui primary button" href="#submit_code">提交</a>
          
          <a class="small ui positive button" href="/submissions?problem_id=1070">提交记录</a>
          <a class="small ui orange button" href="/problem/1070/statistics/fastest">统计</a>
          <a class="small ui yellow button" href="/problem/1070/testdata">测试数据</a>
          
          <a class="small ui brown button" href="/discussion/problem/1070" style="position: relative; ">
            讨论
            
          </a>
        
      </div>
      
        <div class="ui buttons right floated">
          
          
        </div>
      
    </div>
  </div>
  
  <div class="row">
    <div class="column">
      <h4 class="ui top attached block header">题目描述</h4>
      <div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden; "><p>[读者请注意，原题中的一些词语已经被改成了有关奶牛的双关语。]</p>
<p>秀·谢夫（小奶牛）在花花公子杂志上中了大奖，于是她从农村搬到了城郊的一座别墅中。可是她还常常怀念乡村的生活，总想回到原来的农村逛逛。为了环保，秀决定骑上为她量身定做的奶牛自行车（特殊的自行车，专门为牛蹄设计）。</p>
<p>秀大约有一吨重。同样的，秀在普通的奶牛自行车上，要想骑得平平稳稳，也不是一件容易的事。因此，调节奶牛自行车的变速器让秀心力交瘁。</p>
<p>帮助秀选择她的奶牛自行车前面 F  （1 &lt;=F &lt;= 5）个齿轮和后面 R  （1 &lt;= R &lt;= 10）个齿轮，使她的 F*R  奶牛自行车符合下面的标准：</p>
<p>前面齿轮的型号（齿的数量）必须在给定的范围内。
后面齿轮的型号（齿的数量）必须在给定的范围内。
在每一种齿轮组合中，传动比率就是前面齿轮的齿数除以后面齿轮的齿数所得的商。
最大的传动比率至少是最小的三倍。
齿轮组合（已排好序）相邻两项的差的的方差（见下面的例子） 应该达到最小。
按照下面的公式计算平均数与方差（xi  代表数据） ：</p>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>                      1    n
              mean = ---  SUM xi
                      n   i=1   

                      1    n    
          variance = ---  SUM (xi - mean)^2
                      n   i=1    
</code></pre></div>
<p>计算并确定最佳齿轮组合（其中 F  个前齿轮，R  个后齿轮），使方差最小（传动比率至少是 3x）。</p>
</div></div>
    </div>
  </div>
  
  
  <div class="row">
    <div class="column">
        <h4 class="ui top attached block header">输入格式</h4>
        <div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden; "><p>第一行是 F 和 R，表示前齿轮和后齿轮的数量。第二行包括 4 个数字：F1，F2（25 &lt;= F1 &lt; F2 &lt;= 80），R1，R2（5 &lt;= R1 &lt; R2 &lt;= 40）。从 F1 到 F2 型号的前齿轮都是可用的；从 R1 到 R2 型号的后齿轮都是可用的。至少会有一组合法的解。</p>
</div></div>
    </div>
  </div>
  
  
    <div class="row">
        <div class="column">
          <h4 class="ui top attached block header">输出格式</h4>
          <div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden; "><p>在第一行从小到大输出前齿轮的型号，用空格分开。在第二行从小到大输出后齿轮的型号，同样用空格分开。当然，齿轮的齿数一定是整数。</p>
<p>如果有多个解，输出前齿轮齿数最小的那一个（第一个齿轮齿数最小的，若第一个齿轮齿数相等，输出第二个齿轮齿数最小的……依此类推）。如果所有的前齿轮齿数都相等，照着上面的办法处理后齿轮（其实就是把第一个，第二个……齿轮分别设为第一，第二……个关键字来排序）。</p>
</div></div>
        </div>
    </div>
  
  
    <div class="row">
        <div class="column">
          <h4 class="ui top attached block header">样例</h4>
          <div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden; "><div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>Sample Input  
2 5
39 62 12 28
</code></pre></div>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>Sample Output  
39 53
12 13 15 23 27
</code></pre></div>
</div></div>
        </div>
    </div>
  
  
    <div class="row">
        <div class="column">
          <h4 class="ui top attached block header">数据范围与提示</h4>
          <div class="ui bottom attached segment font-content"><div style="position: relative; overflow: hidden; "><p>注释</p>
<p>这个问题最大的挑战就是“读懂题目”。慢慢读，不要想一步登天。如果你读不懂题目，还是得一遍一遍的把它读进去。</p>
<p>问题要我们找出“最佳齿轮组合”，即传动比率最接近平均数的组合。考虑下面的测试数据：</p>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>2 5 
39 62 12 28
</code></pre></div>
<p>这意味着有 2 个前齿轮，型号范围在 39..62 ；5个后齿轮，型号范围在 12..28。程序必须检查所有前齿轮组成的有序对（共 62-39+1=24 种齿轮），和所有后齿轮组成的五元组（共 28-12+1=17 种齿轮）。根据组合数学原理，总共有 24!/22!/2! x 17!/5!/12! = 656,880 种可能（我是这么认为的）。</p>
<p>对于每一种可能，做下面的计算。举个例子来说，对于枚举到的第一种情况：前齿轮是 39 和 40，后齿轮是 12，13，14，15 和 16。</p>
<p>首先，计算所有可能的传动比率：</p>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>39/12 = 3.25000000000000000000 
39/13 = 3.00000000000000000000 
39/14 = 2.78571428571428571428 
39/15 = 2.60000000000000000000 
39/16 = 2.43750000000000000000 
40/12 = 3.33333333333333333333 
40/13 = 3.07692307692307692307 
40/14 = 2.85714285714285714285 
40/15 = 2.66666666666666666666 
40/16 = 2.50000000000000000000 
</code></pre></div>
<p>然后，对它们进行排序：</p>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>39/16 = 2.43750000000000000000 
40/16 = 2.50000000000000000000 
39/15 = 2.60000000000000000000 
40/15 = 2.66666666666666666666 
39/14 = 2.78571428571428571428 
40/14 = 2.85714285714285714285 
39/13 = 3.00000000000000000000 
40/13 = 3.07692307692307692307 
39/12 = 3.25000000000000000000 
40/12 = 3.33333333333333333333 
</code></pre></div>
<p>然后，计算差的绝对值：</p>
<div class="ui existing segment"><pre style="margin-top: 0; margin-bottom: 0; "><code>2.43750000000000000000 - 2.50000000000000000000 = 0.06250000000000000000 
2.50000000000000000000 - 2.60000000000000000000 = 0.10000000000000000000 
2.60000000000000000000 - 2.66666666666666666666 = 0.06666666666666666666 
2.66666666666666666666 - 2.78571428571428571428 = 0.11904761904761904762 
2.78571428571428571428 - 2.85714285714285714285 = 0.07142857142857142857 
2.85714285714285714285 - 3.00000000000000000000 = 0.14285714285714285715 
3.00000000000000000000 - 3.07692307692307692307 = 0.07692307692307692307 
3.07692307692307692307 - 3.25000000000000000000 = 0.17307692307692307693 
3.25000000000000000000 - 3.33333333333333333333 = 0.08333333333333333333 
</code></pre></div>
<p>然后计算平均数和方差。平均数是（我是这么认为的）0.0995370370370370370366666.。方差大约是 0.00129798488416722。 找出使方差最小的齿轮组合。</p>
</div></div>
        </div>
    </div>
  
  
    <div class="row">
      <div class="column">
        <h4 class="ui block header" id="show_tag_title_div" style="margin-bottom: 0; margin-left: -1px; margin-right: -1px; "><a href="#" id="show_tag_button" style="color: #000; ">显示分类标签</a></h4>
        <div class="ui bottom attached segment" style="display: none; " id="show_tag_div">
          
            <a href="/problems/tag/104" class="ui medium pink label">
              搜索
            </a>
          
        </div>
      </div>
    </div>
    <script>
    $(function () {
      $('#show_tag_button').click(function (e) {
        e.preventDefault();
        $('#show_tag_title_div').addClass('top');
        $('#show_tag_title_div').addClass('top attached');
        $('#show_tag_title_div').text('分类标签');
        $('#show_tag_div').css('display', '');
      })
    });
    </script>
  
    
    
    
    <div class="row">
        <div class="column">
          
          <form action="/problem/1070/submit?contest_id=" method="post" onsubmit="return submit_code()" id="submit_code" enctype="multipart/form-data">
            
              <input name="language" type="hidden" id="form">
              <input name="code" type="hidden">
              <div class="ui grid">
                <div class="four wide column" style="margin-right: -25px; ">
                  <div class="ui attached vertical fluid pointing menu" id="languages-menu" style="height: 370px; overflow-y: scroll; overflow-x: hidden; ">
                    
                    
                      <a style="border-radius: 0; " class="item active" data-value="cpp-g++-9.3.0" data-mode="cpp">
                        C++ (NOI2.0)
                        <div class="ui right floated" style="opacity: 0.4; margin-top: 8px; font-size: 0.7em; ">GCC 9.3.0</div>
                      </a>
                    
                  </div>
                </div>
                <div class="twelve wide stretched column" style="position: relative; padding-left: 0; margin-left: calc(-1rem - 1px); width: calc(75% + 1rem + 13px) !important; ">
                  <div id="editor" style="position: absolute; width: 100%; height: calc(100% - 28px); border: 1px solid #D4D4D5; overflow: hidden; " class="editor" contenteditable>
                    
<div class="ui active medium text loader">编辑器加载中 …</div>

                  </div>
                </div>
                <div class="ui form" style="width: 100%; ">
                  <div class="inline fields" style="width: 100%; ">
                    <div class="field" style="margin: 0 auto; ">
                      <label for="answer">或者，上传代码文件</label>
                      <input type="file" id="answer" name="answer">
                    </div>
                  </div>
                </div>
              </div>
              <div class="ui center aligned vertical segment" style="padding-bottom: 0; ">
                <button type="submit" class="ui labeled icon button"><i class="ui edit icon"></i>提交</button>
              </div>
            
          </form>
        </div>
    </div>
    
</div>


<script type="text/javascript">
  var editor;
  window.onEditorLoaded(function () {
    var editorElement = document.getElementById('editor');
    var content = '';
    
    editor = window.createCodeEditor(editorElement, $('#languages-menu .item.active').data('mode'), content);
    window.editor = editor;
  });

  var lastSubmitted = '';

  function submit_code() {
    if (!$('#submit_code input[name=answer]').val().trim() && !editor.getValue().trim()) return false;
    $('#submit_code input[name=language]').val($('#languages-menu .item.active').data('value'));
    lastSubmitted = editor.getValue();
    $('#submit_code input[name=code]').val(editor.getValue());
    return true;
  }

  $('#languages-menu')[0].scrollTop = $('#languages-menu .active')[0].offsetTop - $('#languages-menu')[0].firstElementChild.offsetTop;

  $(function () {
    $('#languages-menu .item').click(function() {
      $(this)
        .addClass('active')
        .closest('.ui.menu')
        .find('.item')
          .not($(this))
          .removeClass('active')
      ;
      monaco.editor.setModelLanguage(editor.getModel(), $(this).data('mode'));
    });
  });
</script>


</div>
    <div class="ui vertical footer segment" style="margin-top: 15px; ">
      <div class="ui center aligned container">
        <span style="color: #999;">FAIOJ Powered by <a href="https://github.com/FaiOJ/syzoj" target="_blank">SYZOJ</a>.</span>
        <br>
        <img src="https://cdn.jsdelivr.net/gh/novaELLIAS/CDN_for_ND/img/cn_icp.png" style="width:18px;height:18px;margin-bottom:-3px" alt="MOE ICP">
        <a href="http://www.beian.miit.gov.cn/" target="_blank"> 辽ICP备20009666号-1</a>
        丨
        <img src="https://cdn.jsdelivr.net/gh/novaELLIAS/CDN_for_ND/img/moeicp.png" style="width:18px;height:18px;margin-bottom:-3px" alt="MOE ICP">
<a href="https://icp.gov.moe" target="_blank">MOE ICP </a><a href="https://icp.gov.moe/?keyword=20201096" target="_blank"> 20201096号</a>
      </div>
    </div>
</div>
<script data-cfasync="false" src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/semantic-ui/2.4.1/semantic.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/cdnjs/Chart.js/2.7.3/Chart.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/syzoj-public-cdn@1.0.6/self/script.js?20170710"></script>
</body>
</html>

